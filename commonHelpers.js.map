{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst dataTime = document.querySelector(\"#datetime-picker\");\nconst startBt = document.querySelector(\"button[data-start]\");\n\nconst dataDays = document.querySelector('.value[data-days]')\nconst dataHours = document.querySelector('.value[data-hours]')\nconst dataMinuts = document.querySelector('.value[data-minutes]')\nconst dataSeconds = document.querySelector('.value[data-seconds]')\n\nconsole.log(startBt.disabled);\n\nlet userSelectedDate = 0;\nlet timerInterval;\n\nstartBt.disabled = true;\n\n\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n      console.log(selectedDates[0]);\n    if (selectedDates[0] <= new Date()) {\n        iziToast.warning({\n    title: 'Please choose a date in the future', });\n    } else {\n      startBt.classList.add('active-button');\n          userSelectedDate = selectedDates[0];\n      startBt.disabled = false;\n      }\n  },\n};\n\nflatpickr(dataTime, options);\n\nstartBt.addEventListener('click', startTimer)\n\n\nfunction startTimer() {\n  if (startBt.disabled) {\n    return;\n  } else {\n    startBt.classList.remove('active-button')\n    timerInterval = setInterval(() => {\n      const currentTime = new Date();\n      const deltaTime = userSelectedDate - currentTime;\n\n      if (deltaTime <= 0) {\n        clearInterval(timerInterval);\n        return;\n      }\n        const time = convertMs(deltaTime);\n        updateClock(time);\n      }, 1000);\n  }\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = addLeadingZero(Math.floor(ms / day));\n  // Remaining hours\n  const hours = addLeadingZero(Math.floor((ms % day) / hour));\n  // Remaining minutes\n  const minutes = addLeadingZero(Math.floor(((ms % day) % hour) / minute));\n  // Remaining seconds\n  const seconds = addLeadingZero(Math.floor((((ms % day) % hour) % minute) / second));\n\n  return { days, hours, minutes, seconds };\n}\n\n\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, \"0\")\n}\n\nfunction updateClock({ days, hours, minutes, seconds }) {\n  dataDays.textContent = `${days}`;\n  dataHours.textContent = `${hours}`;\n  dataMinuts.textContent = `${minutes}`;\n  dataSeconds.textContent = `${seconds}`;\n}"],"names":["dataTime","startBt","dataDays","dataHours","dataMinuts","dataSeconds","userSelectedDate","timerInterval","options","selectedDates","iziToast","flatpickr","startTimer","deltaTime","time","convertMs","updateClock","ms","days","addLeadingZero","hours","minutes","seconds","value"],"mappings":"+IAMA,MAAMA,EAAW,SAAS,cAAc,kBAAkB,EACpDC,EAAU,SAAS,cAAc,oBAAoB,EAErDC,EAAW,SAAS,cAAc,mBAAmB,EACrDC,EAAY,SAAS,cAAc,oBAAoB,EACvDC,EAAa,SAAS,cAAc,sBAAsB,EAC1DC,EAAc,SAAS,cAAc,sBAAsB,EAEjE,QAAQ,IAAIJ,EAAQ,QAAQ,EAE5B,IAAIK,EAAmB,EACnBC,EAEJN,EAAQ,SAAW,GAInB,MAAMO,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAC1BA,EAAc,CAAC,GAAK,IAAI,KACxBC,EAAS,QAAQ,CACrB,MAAO,oCAAoC,CAAG,GAE5CT,EAAQ,UAAU,IAAI,eAAe,EACjCK,EAAmBG,EAAc,CAAC,EACtCR,EAAQ,SAAW,GAEtB,CACH,EAEAU,EAAUX,EAAUQ,CAAO,EAE3BP,EAAQ,iBAAiB,QAASW,CAAU,EAG5C,SAASA,GAAa,CAChBX,EAAQ,WAGVA,EAAQ,UAAU,OAAO,eAAe,EACxCM,EAAgB,YAAY,IAAM,CAEhC,MAAMM,EAAYP,EADE,IAAI,KAGxB,GAAIO,GAAa,EAAG,CAClB,cAAcN,CAAa,EAC3B,MACD,CACC,MAAMO,EAAOC,EAAUF,CAAS,EAChCG,EAAYF,CAAI,CACjB,EAAE,GAAI,EAEb,CAEA,SAASC,EAAUE,EAAI,CAQrB,MAAMC,EAAOC,EAAe,KAAK,MAAMF,EAAK,KAAG,CAAC,EAE1CG,EAAQD,EAAe,KAAK,MAAOF,EAAK,MAAO,IAAI,CAAC,EAEpDI,EAAUF,EAAe,KAAK,MAAQF,EAAK,MAAO,KAAQ,GAAM,CAAC,EAEjEK,EAAUH,EAAe,KAAK,MAASF,EAAK,MAAO,KAAQ,IAAU,GAAM,CAAC,EAElF,MAAO,CAAE,KAAAC,EAAM,MAAAE,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAGA,SAASH,EAAeI,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC,CAEA,SAASP,EAAY,CAAE,KAAAE,EAAM,MAAAE,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CACtDpB,EAAS,YAAc,GAAGgB,CAAI,GAC9Bf,EAAU,YAAc,GAAGiB,CAAK,GAChChB,EAAW,YAAc,GAAGiB,CAAO,GACnChB,EAAY,YAAc,GAAGiB,CAAO,EACtC"}